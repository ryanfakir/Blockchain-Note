今天聊聊pow pos以及casper。 今天会有点杂。 首先在这个我们讲点背景知识: 什么是分布式系统（多台电脑组成的网络）中的BFT（拜占庭容忍理论） 这个源于一个lamport 的论文， 拜占庭将军们负责进攻目标或者撤退，通过书信沟通， 只有大多数将军达成一致意见 一同成功进攻或撤退就会成功 如果得不到一致意见 则会失败 。 而将军们中有叛徒， 会不作为甚至造假。 一般情况下 假设有n个将军，n大于等于2f+1才能避免失败 f是叛徒的个数。比如5 个将军 如果叛徒多过2个 行动就失败了。 假如叛徒想要阻挠（本来进攻算赢 叛徒故意投撤退）， 那么n大于等于3f+1才能避免失败。 4个将军 能容忍一个叛徒，再多则失败。更复杂的情况是Fischer-Lynch-Paterson（FLP） 提出来的， 假如信息会丢失 那么悲观的说 将军们的行动注定失败。（大家感兴趣 这个完了可以专门好好聊聊这块算法理论）。 有了经典理论基础 为什么POW 可以超越这些理论呢 答案是bitcoin修改了假设。 首先之前讲过的hash function 应用在密码学中的数字签名 保证了身份不会伪造。 第二 10分钟完成一次统一消息。 10分钟在现有网络下信息可以传到全世界任何一个角落， 这样保证了信息不会丢失。第三 所有miner（矿工）解决复杂的hash问题 使叛徒的攻击有了成本， 再通过奖励 鼓励节点行善。 也就是说bitcoin通过降低系统的吞吐量性能的前提下 完成了跨越经典理论。POW 使 攻击需要成本 但不代表攻击无利可图，我们现在引入POS POS 简单说 可以理解为大家根据手中拥有的币来进行vote（投票）目前有这些特点 1. 速度快（因为不需要做大规模计算， 块是投出来的）2. 叛徒攻击会损失（因为投票前 所有人要锁定资产， 作恶则没收资产）。3. 永久性（这个非常重要， POW是无法保证资产永久性的 根据长链原则 你的资产30bitcoin， 可能因为通过soft fork 的新节点 赶超长链， 就会永久抹掉你的30bitcoin） POS 也有问题 比如币越多 vote权力越大 结果使富人会越富， 同样POS 也存在严重的fork 问题。为了解决这些问题 演化出了多种POS 首先tezos 和 EOS 的Delegated PoS（委托POS） 和 Casper POS。 这两种方案最大的区别是DPOS 是 你需要选出少数代表 代替你生成区块 而 CasperPOS 则是通过多轮投票 通过查询Casper contract 做仲裁。 简单点说DPOS 会比CPOS相对中心化， 但是好处是简单， 容易实现。 中心化的是一个主体 做决定， 而DPOS 则是选出大于1%的大户round robin（轮流）做裁决 。 Casper 刚才是实现会采用混合性POW + POS， 在一段时间内投票做checkpoint（保存点） 可以看到两种方式 都可以保证永久性不会被篡改。 另外fork是怎么解决的呢 DPOS 相对简单 因为大户说的算 提出意见之后一般会有20天的等待期 等其他大户都满意之后 就直接更新 这样子轻松的解决fork问题。 而casper 我还没研究多少， 这个机制很复杂 因为fork 在casper也是要投票的 总之理解起来有些烧脑 等我理解了聊
