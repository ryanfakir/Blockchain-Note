EVM 是以太坊的脊梁， 之前说过contract 是代码 是人能看的懂的编程语言， EVM 作为提升以太坊的核心要素之一 它会把人写的代码 转化成机器语言， 转化需要很多优化 来提升速度， 最后编译成0101的机器代码 让计算机去运行。 EVM 还负责提前算好每次运行代码要消耗多少gas， 提前知道的话 就可以做一些错误的处理和判断。 之前说过以太坊是是状态转移方程， 状态指是什么 比如每个人有多少ether。 为了记录每一次交易的状态 最好的方式是存最少的数据记录最多的状态， 只有这样子才能满足上百万人的使用。 那么怎么记录状态就是个有趣的话题： 以太坊首先是一种叫做树结构的状态，每一次交易 即每一次状态转化就是一次重新构建新树结构的过程。把大量的树结构转化为小容量我们用到了压缩函数 hash， 每个账户都会进行一次压缩函数， 两两再压缩 直到最后剩下一个压缩的结果。 而区块上就存这这个压缩后的结果。 对于全节点 需要知道储存每个账户的信息（存储信息和状态信息） 为完成验证。 每一笔交易都会在所有网络中的电脑运行一次， 达到一致的结果后 进行下一次状态转移。 你会看到以太坊实际上比一般的个人计算机慢很多 因为每台电脑都在做同样的事 还要等别人做完同样的事 才能继续。 这就是去中心化的代价。
evm 不完全一样JVM evm是这样子先把contract code 转化为evm assembly language然后用interpreter 维护一个内存空间（stack 栈空间）保存所有账户的存储空间状态 和 contract code， 所有的数据运行要load 到 内存中 （这里面存在大量的优化）然后根据运算结果 重新构建树结构最后计算hash 值 写入区块。   JVM会产生bytecode的临时源代码 然后在转化为 machine code 运行。一句话 evm 就是加快以太坊 速度的流水线上的一环  负责维护每个人的账户信息 并 产生新的账户信息用的。 因为有了evm 理论上可以用任何高级编程语言 来写contract  给以太坊提供了极大的便利和灵活。等待同步就是需要计算之前的状态 下载所有之前块的信息 验算 这个问题会在casper 出来以后得到进一步解决
